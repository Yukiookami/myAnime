webpackJsonp([13],{"+4vT":function(t,e,n){t.exports=n.p+"static/img/2.c1fe52b.jpg"},"2/00":function(t,e,n){t.exports=n.p+"static/img/4.f166c92.jpg"},"5PM7":function(t,e,n){t.exports=n.p+"static/img/5.3d4fc0e.jpg"},"6KWl":function(t,e,n){t.exports=n.p+"static/img/1.2674c94.jpg"},"94WT":function(t,e){},AhPL:function(t,e){},E1cv:function(t,e){},F7jr:function(t,e){},GYko:function(t,e,n){t.exports=n.p+"static/img/3.a1c5cee.jpg"},Gl3H:function(t,e){},HAPY:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={name:"Header",methods:{navi:function(t){t&&window.open(t)}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Header"},[n("router-link",{staticClass:"logo",attrs:{tag:"div",to:"/"}},[n("h2",[t._v("MyAnime")]),t._v(" "),n("p",[t._v("By dantecsm")])]),t._v(" "),n("div",{staticClass:"nav-wrapper"},[n("ul",{staticClass:"nav"},[n("router-link",{attrs:{to:"/",tag:"li"}},[n("i",{staticClass:"el-icon-document"},[t._v("首页")])]),t._v(" "),n("li",{staticClass:"willExpend"},[n("div",{staticClass:"hasChildren deep1"},[n("i",{staticClass:"el-icon-star-on"},[t._v("动漫目录")]),t._v(" "),n("ul",{staticClass:"subMenu deep1"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母1-9"}},[t._v("拼音首字母1-9")]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                拼音首字母A-H\n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_A"}},[t._v("A")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_B"}},[t._v("B")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_C"}},[t._v("C")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_D"}},[t._v("D")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_E"}},[t._v("E")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_F"}},[t._v("F")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_G"}},[t._v("G")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_H"}},[t._v("H")])],1)])]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                 拼音首字母I-P \n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_I"}},[t._v("I")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_J"}},[t._v("J")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_K"}},[t._v("K")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_L"}},[t._v("L")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_M"}},[t._v("M")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_N"}},[t._v("N")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_O"}},[t._v("O")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_P"}},[t._v("P")])],1)])]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                拼音首字母Q-Z\n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Q"}},[t._v("Q")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_R"}},[t._v("R")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_S"}},[t._v("S")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_T"}},[t._v("T")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_U"}},[t._v("U")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_V"}},[t._v("V")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_W"}},[t._v("W")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_X"}},[t._v("X")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Y"}},[t._v("Y")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Z"}},[t._v("Z")])],1)])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_其他"}},[t._v("其他")])],1)])]),t._v(" "),n("li",{on:{click:function(e){return t.navi("")}}},[n("i",{staticClass:"el-icon-s-promotion"},[t._v("动漫导航")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/guide"}},[n("i",{staticClass:"el-icon-document"},[t._v("新人导读")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/unzip"}},[n("i",{staticClass:"el-icon-document"},[t._v("解压必读")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/message"}},[n("i",{staticClass:"el-icon-chat-line-square"},[t._v("留言板")])])],1)])],1)},staticRenderFns:[]};var o=n("VU/8")(a,i,!1,function(t){n("E1cv")},"data-v-9ca24d7c",null).exports,s={name:"Footer",data:function(){return{active:!1}},created:function(){var t=this;document.addEventListener("scroll",function(){t.active=document.documentElement.scrollTop>=1e3})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Footer"},[e("a",{attrs:{href:"javascript:;"}},[this._v("© 2019 dantecsm .powered by dantecsm. | 站点地图")]),this._v(" "),e("a",{staticClass:"scrollToTop",class:{active:this.active},attrs:{href:"#"}},[e("el-icon",{staticClass:"el-icon-arrow-up"})],1)])},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(t){n("Gl3H")},"data-v-75ea0543",null).exports,l=n("//Fk"),g=n.n(l),d=n("Xjl2"),v=n("zL8q"),_=n.n(v),m=function(){return new g.a(function(t,e){new d.a.Query("slideShow").find().then(function(e){for(var n=e.map(function(t){return t.get("url")}),r=n.length,a=0;a<n.length;a++){var i=new Image;i.onload=function(){1===r?t(n):r-=1},i.src=n[a]}}).catch(function(t){v.Message.error("背景图似乎出了点问题"),e(t)})})},f=n("6KWl"),p=n.n(f),h=n("+4vT"),y=n.n(h),w=n("GYko"),k=n.n(w),C=n("2/00"),b=n.n(C),I=n("5PM7"),A=n.n(I),L=n("rJro"),P=n.n(L),U={name:"SlideShow",data:function(){return{imageArr:[p.a,y.a,k.a,b.a,A.a,P.a]}},created:function(){var t=this,e=+new Date;m().then(function(n){var r=+new Date;setTimeout(function(){console.log("网络壁纸加载完毕"),t.imageArr=n},(6e4-(r-e))%6e3)})}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SlideShow"},[n("ul",{staticClass:"cb-slideshow"},t._l(t.imageArr,function(e,r){return n("li",[n("span",{style:{"background-image":"url("+e+")","animation-delay":6*r+"s"}},[t._v(t._s(r))])])}),0)])},staticRenderFns:[]};var R={name:"App",components:{Header:o,Footer:u,SlideShow:n("VU/8")(U,H,!1,function(t){n("F7jr")},"data-v-557872b8",null).exports}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header",{attrs:{id:"header"}}),this._v(" "),e("main",{attrs:{id:"main"}},[e("section",{staticClass:"page"},[e("router-view")],1),this._v(" "),e("section",{staticClass:"backgound"},[e("SlideShow")],1)]),this._v(" "),e("Footer",{attrs:{id:"footer"}})],1)},staticRenderFns:[]};var E=n("VU/8")(R,x,!1,function(t){n("Qz2A")},null,null).exports,j=n("/ocq"),M=n("NYxO"),T=n("Xxa5"),F=n.n(T),Q=n("exGp"),S=n.n(Q),z=n("Pfph"),Z={state:{user:null,userId:null,isLogin:!1},getters:{user:function(t){return t.user},userId:function(t){return t.userId},isLogin:function(t){return t.isLogin}},mutations:{setUser:function(t,e){t.user=e.user},setUserId:function(t,e){t.userId=e.userId},setLogin:function(t,e){t.isLogin=e.isLogin}},actions:{login:function(t,e){var n=t.commit,r=e.username,a=e.password;return z.a.login({username:r,password:a}).then(function(t){n("setUser",{user:t.get("username")}),n("setUserId",{userId:t.id}),n("setLogin",{isLogin:!0})})},register:function(t,e){var n=this,r=t.commit,a=e.username,i=e.password;return S()(F.a.mark(function t(){var e;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.a.register({username:a,password:i});case 2:return e=t.sent,r("setUser",{user:e.get("username")}),r("setUserId",{userId:e.id}),r("setLogin",{isLogin:!0}),t.abrupt("return",e.data);case 7:case"end":return t.stop()}},t,n)}))()},logout:function(t){var e=t.commit;z.a.logout(),e("setUser",{user:null}),e("setUserId",{userId:null}),e("setLogin",{isLogin:!1})},checkLogin:function(t){var e=t.commit;if(t.state.isLogin)return!0;var n=z.a.getInfo();return e("setLogin",{isLogin:n.isLogin}),!!n.isLogin&&(e("setUser",{user:n.user}),e("setUserId",{userId:n.id}),!0)}}};r.default.use(M.a);var D=new M.a.Store({modules:{auth:Z,article:{state:{articleReady:!1,commentReady:!1},getters:{articleReady:function(t){return t.articleReady},commentReady:function(t){return t.commentReady}},mutations:{setArticleReady:function(t,e){t.articleReady=e.articleReady},setCommentReady:function(t,e){t.commentReady=e.commentReady}},actions:{}}}}),O=n("VmfC");r.default.use(j.a);var G=new j.a({routes:[{name:"Index",path:"/",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"epW7"))}},{name:"Detail",path:"/detail/:blogId",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"YE8u"))}},{name:"Tag",path:"/tag/:tagName",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"D0oe"))}},{name:"Category",path:"/category/:categoryName",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"criy"))}},{name:"Guide",path:"/guide",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"L8Jk"))}},{name:"Unzip",path:"/unzip",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"7hZW"))}},{name:"Message",path:"/message",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"pKp6"))}},{name:"Register",path:"/register",component:function(){return n.e(1).then(n.bind(null,"YDhy"))}},{name:"Login",path:"/login",component:function(){return n.e(11).then(n.bind(null,"OpX7"))}},{name:"Search",path:"/search/:keyword",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"cVkx"))}},{name:"My",path:"/my",component:function(){return n.e(10).then(n.bind(null,"vv7P"))},meta:{requiresAuth:!0}}],mode:"history"});G.beforeEach(function(t,e,n){"My"!==t.name&&(t.matched.some(function(t){return t.meta.requiresAuth})?D.dispatch("checkLogin").then(function(e){e?n():n({path:"/login",query:{redirect:t.fullPath}})}):n(),"Login"===e.name&&"Register"===t.name&&n({path:t.path,query:e.query}))}),G.afterEach(function(t,e,n){t.query.cpage||(["Detail","Guide","Unzip","Message"].includes(t.name)&&t.hash?Object(O.b)():window.scrollTo(0,0))});var W=G,q=n("RInU"),V=n.n(q);n("tvR6"),n("94WT"),n("HAPY"),n("AhPL");r.default.filter("formatDate",function(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth()+1,r=t.getDate(),a=t.getHours(),i=t.getMinutes();return e+"年"+n+"月"+r+" "+(a<=11?"上午":"下午")+(a=a>=12?a-12:a)+":"+(i=i<10?"0"+i:i)}),r.default.config.productionTip=!1,r.default.use(_.a),window.AV=d.a,window.AOS=V.a,V.a.init(),Object(O.a)(document.body,function(){V.a.refresh(),Object(O.b)()}),new r.default({el:"#app",router:W,store:D,components:{App:E},template:"<App/>"})},Pfph:function(t,e,n){"use strict";var r=n("//Fk"),a=n.n(r),i=n("Xjl2"),o=n("zL8q"),s=(n.n(o),{200:"未提供用户名或用户名为空",201:"未提供密码或密码为空",202:"用户名已经被占用",203:"邮箱地址已经被占用",204:"未提供邮箱地址",205:"找不到邮箱地址对应的用户",206:"未提供 session, 无法修改用户信息",207:"只能通过注册创建用户",208:"不可绑定其他用户因为第三方账号已经绑定一个用户",210:"用户名和密码不匹配",211:"找不到对应用户",212:"请提供手机号码",213:"手机号码对应的用户不存在",214:"手机号码已经被注册",215:"未验证的手机号码",216:"未验证的邮箱地址",217:"无效用户名(用户名不允许为空)",218:"无效密码(密码不允许为空)",219:"登陆失败次数超过限制请稍候重试",250:"连接的第三方账户未返回用户唯一标识",251:"无效的账户连接"});e.a={register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:""},e=t.username,n=t.password,r=t.email,c=void 0===r?"":r;return new a.a(function(t,r){var a=new i.a.User;a.setUsername(e),a.setPassword(n);var u=i.a.Object.createWithoutData("_File","5ce23d4c17b54d006838294a");a.set("avatar",u),c&&a.setEmail(c),a.signUp().then(function(e){o.Message.success("注册成功"),t(e)},function(t){var e=s[t.code]||"未知错误";o.Message.error(e),r(t)})})},login:function(t){var e=t.username,n=t.password;return new a.a(function(t,r){i.a.User.logIn(e,n).then(function(e){o.Message.success("登录成功"),t(e)},function(t){var e=s[t.code]||"未知错误";o.Message.error(e),r(t)})})},logout:function(){return i.a.User.logOut()},getInfo:function(){var t=i.a.User.current();return t?{user:t.get("username"),id:t.id,isLogin:!0}:{user:null,userId:null,isLogin:!1}},setUserAvatar:function(t){return new a.a(function(e,n){var r=i.a.User.current();if(r){var a=i.a.Object.createWithoutData("_User",r.id);a.set("avatar",t),a.set("c",1),a.save().then(function(t){var n=i.a.User.current().getSessionToken();i.a.User.become(n),e(t)}).catch(function(t){n(t)})}else n()})}}},Qz2A:function(t,e){},VmfC:function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.clientHeight;!function a(){n=t.clientHeight,r!==n&&e(),r=n,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=setTimeout(a,200)}()},e.b=function t(){var e=["detail","guide","unzip","message"].some(function(t){return window.location.pathname.indexOf(t)>-1});var n=window.location.hash;if(e&&n){var r=window.location.hash.substr(1),a=document.getElementById(r);a?a.scrollIntoView({behavior:"smooth"}):requestAnimationFrame(t)}},String.prototype.replaceAll=function(t,e){return this.split(t).join(e)}},Xjl2:function(t,e,n){"use strict";var r=n("JnRc"),a=n.n(r);a.a.init({appId:"N4vGlWjOcl7Lidhj3n7Xt5aV-gzGzoHsz",appKey:"GGzqiAwedF20apkL53DWzzQR"}),e.a=a.a},rJro:function(t,e,n){t.exports=n.p+"static/img/6.805f262.jpg"},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ad8aed1eeee724997c03.js.map