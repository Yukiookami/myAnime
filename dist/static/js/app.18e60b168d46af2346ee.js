webpackJsonp([13],{"+4vT":function(t,e,n){t.exports=n.p+"static/img/2.6f5cad6.jpg"},"2/00":function(t,e,n){t.exports=n.p+"static/img/4.8c3c706.jpg"},"5PM7":function(t,e,n){t.exports=n.p+"static/img/5.22fd0fe.jpg"},"6KWl":function(t,e,n){t.exports=n.p+"static/img/1.5e62c7f.jpg"},AhPL:function(t,e){},GYko:function(t,e,n){t.exports=n.p+"static/img/3.cf4f613.jpg"},HAPY:function(t,e){},KCV0:function(t,e,n){t.exports=n.p+"static/img/7.9fbdadb.jpg"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={name:"Header",data:function(){return{isFold:!0}},methods:{redirectTo:function(t){t&&window.open(t)}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Header",class:{unfold:!t.isFold}},[n("div",{staticClass:"topNav"},[n("router-link",{staticClass:"logo",attrs:{tag:"div",to:"/"}},[n("h2",[t._v("MyAnime")]),t._v(" "),n("p",[t._v("By dantecsm")])]),t._v(" "),n("div",{staticClass:"nav-trigger",on:{click:function(e){t.isFold=!t.isFold}}},[n("i",{staticClass:"el-icon-ali-navi"})])],1),t._v(" "),n("div",{staticClass:"nav-wrapper"},[n("ul",{staticClass:"nav"},[n("router-link",{attrs:{to:"/",tag:"li"}},[n("i",{staticClass:"el-icon-document"},[t._v("首页")])]),t._v(" "),n("li",{staticClass:"willExpend"},[n("div",{staticClass:"hasChildren deep1"},[n("i",{staticClass:"el-icon-star-on"},[t._v("动漫目录")]),t._v(" "),n("ul",{staticClass:"subMenu deep1"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母1-9"}},[t._v("拼音首字母1-9")]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                拼音首字母A-H\n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_A"}},[t._v("A")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_B"}},[t._v("B")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_C"}},[t._v("C")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_D"}},[t._v("D")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_E"}},[t._v("E")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_F"}},[t._v("F")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_G"}},[t._v("G")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母A-H_H"}},[t._v("H")])],1)])]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                 拼音首字母I-P \n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_I"}},[t._v("I")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_J"}},[t._v("J")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_K"}},[t._v("K")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_L"}},[t._v("L")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_M"}},[t._v("M")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_N"}},[t._v("N")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_O"}},[t._v("O")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母I-P_P"}},[t._v("P")])],1)])]),t._v(" "),n("router-link",{staticClass:"willExpend",attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z"}},[n("div",{staticClass:"hasChildren deep2"},[t._v("\n                拼音首字母Q-Z\n                "),n("ul",{staticClass:"subMenu deep2"},[n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Q"}},[t._v("Q")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_R"}},[t._v("R")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_S"}},[t._v("S")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_T"}},[t._v("T")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_U"}},[t._v("U")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_V"}},[t._v("V")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_W"}},[t._v("W")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_X"}},[t._v("X")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Y"}},[t._v("Y")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_拼音首字母Q-Z_Z"}},[t._v("Z")])],1)])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/category/动漫目录_其他"}},[t._v("其他")])],1)])]),t._v(" "),n("li",{on:{click:function(e){return t.redirectTo("")}}},[n("i",{staticClass:"el-icon-s-promotion"},[t._v("动漫导航")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/guide"}},[n("i",{staticClass:"el-icon-document"},[t._v("新人导读")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/unzip"}},[n("i",{staticClass:"el-icon-document"},[t._v("解压必读")])]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/message"}},[n("i",{staticClass:"el-icon-chat-line-square"},[t._v("留言板")])])],1)])])},staticRenderFns:[]};var o=n("VU/8")(a,i,!1,function(t){n("Oj7U")},"data-v-02d4a891",null).exports,s={name:"Footer",data:function(){return{active:!1}},created:function(){var t=this;document.addEventListener("scroll",function(){t.active=document.documentElement.scrollTop>=1e3})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Footer"},[e("a",{attrs:{href:"javascript:;"}},[this._v("© 2019 dantecsm .powered by dantecsm. | 站点地图")]),this._v(" "),e("a",{staticClass:"scrollToTop",class:{active:this.active},attrs:{href:"#"}},[e("el-icon",{staticClass:"el-icon-arrow-up"})],1)])},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(t){n("kxg0")},"data-v-13bd231c",null).exports,l=n("jArS"),d=n("6KWl"),g=n.n(d),v=n("+4vT"),f=n.n(v),m=n("GYko"),p=n.n(m),_=n("2/00"),h=n.n(_),y=n("5PM7"),k=n.n(y),w=n("rJro"),C=n.n(w),A=n("KCV0"),b=n.n(A),x={name:"SlideShow",data:function(){return{imageArr:[g.a,f.a,p.a,h.a,k.a,C.a,b.a],imageNextArr:[]}},created:function(){var t=this;l.a.fetchRandomSlides().then(function(e){var n=e.results.map(function(t){return t.get("url")});t.imageNextArr=n||[];var r=-1,a=setInterval(function(){0===t.imageNextArr.length&&(t.imageArr.pop(),clearInterval(a)),r>=0&&(t.imageArr[r]=t.imageNextArr.splice(0,1)[0]||t.imageArr[r]),r+=1},6e3)})}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"SlideShow"},[n("ul",{staticClass:"cb-slideshow"},[t._l(t.imageArr,function(e,r){return[e?n("li",[n("span",{style:{"background-image":"url("+e+")","animation-delay":6*r+"s"}},[t._v(t._s(r))])]):t._e()]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"cb-next"},[t._l(t.imageNextArr,function(t){return[n("img",{attrs:{src:t,alt:""}})]})],2)]),t._v(" "),n("div",{staticClass:"mask"})])},staticRenderFns:[]};var L={name:"App",components:{Header:o,Footer:u,SlideShow:n("VU/8")(x,I,!1,function(t){n("t/z4")},"data-v-ec0e8172",null).exports}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header",{attrs:{id:"header"}}),this._v(" "),e("main",{attrs:{id:"main"}},[e("section",{staticClass:"page"},[e("router-view")],1),this._v(" "),e("section",{staticClass:"backgound"},[e("SlideShow")],1)]),this._v(" "),e("Footer",{attrs:{id:"footer"}})],1)},staticRenderFns:[]};var U=n("VU/8")(L,P,!1,function(t){n("Qz2A")},null,null).exports,R=n("/ocq"),H=n("NYxO"),j=n("Xxa5"),M=n.n(j),S=n("exGp"),Q=n.n(S),E=n("Pfph"),F={state:{user:null,userId:null,isLogin:!1},getters:{user:function(t){return t.user},userId:function(t){return t.userId},isLogin:function(t){return t.isLogin}},mutations:{setUser:function(t,e){t.user=e.user},setUserId:function(t,e){t.userId=e.userId},setLogin:function(t,e){t.isLogin=e.isLogin}},actions:{login:function(t,e){var n=t.commit,r=e.username,a=e.password;return E.a.login({username:r,password:a}).then(function(t){n("setUser",{user:t.get("username")}),n("setUserId",{userId:t.id}),n("setLogin",{isLogin:!0})})},register:function(t,e){var n=this,r=t.commit,a=e.username,i=e.password;return Q()(M.a.mark(function t(){var e;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.register({username:a,password:i});case 2:return e=t.sent,r("setUser",{user:e.get("username")}),r("setUserId",{userId:e.id}),r("setLogin",{isLogin:!0}),t.abrupt("return",e.data);case 7:case"end":return t.stop()}},t,n)}))()},logout:function(t){var e=t.commit;E.a.logout(),e("setUser",{user:null}),e("setUserId",{userId:null}),e("setLogin",{isLogin:!1})},checkLogin:function(t){var e=t.commit;if(t.state.isLogin)return!0;var n=E.a.getInfo();return e("setLogin",{isLogin:n.isLogin}),!!n.isLogin&&(e("setUser",{user:n.user}),e("setUserId",{userId:n.id}),!0)}}};r.default.use(H.a);var T=new H.a.Store({modules:{auth:F,article:{state:{articleReady:!1,commentReady:!1},getters:{articleReady:function(t){return t.articleReady},commentReady:function(t){return t.commentReady}},mutations:{setArticleReady:function(t,e){t.articleReady=e.articleReady},setCommentReady:function(t,e){t.commentReady=e.commentReady}},actions:{}}}}),z=n("VmfC");r.default.use(R.a);var N=new R.a({routes:[{name:"Index",path:"/",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"epW7"))}},{name:"Detail",path:"/detail/:blogId",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"YE8u"))}},{name:"Tag",path:"/tag/:tagName",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"D0oe"))}},{name:"Category",path:"/category/:categoryName",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"criy"))}},{name:"Guide",path:"/guide",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"L8Jk"))}},{name:"Unzip",path:"/unzip",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"7hZW"))}},{name:"Message",path:"/message",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"pKp6"))}},{name:"Register",path:"/register",component:function(){return n.e(1).then(n.bind(null,"YDhy"))}},{name:"Login",path:"/login",component:function(){return n.e(11).then(n.bind(null,"OpX7"))}},{name:"Search",path:"/search/:keyword",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"cVkx"))}},{name:"My",path:"/my",component:function(){return n.e(10).then(n.bind(null,"vv7P"))},meta:{requiresAuth:!0}}]});N.beforeEach(function(t,e,n){"My"!==t.name&&(t.matched.some(function(t){return t.meta.requiresAuth})?T.dispatch("checkLogin").then(function(e){e?n():n({path:"/login",query:{redirect:t.fullPath}})}):n(),"Login"===e.name&&"Register"===t.name&&n({path:t.path,query:e.query}))}),N.afterEach(function(t,e,n){t.query.cpage||(["Detail","Guide","Unzip","Message"].includes(t.name)&&t.hash?Object(z.b)():window.scrollTo(0,0))});var O=N,Z=n("zL8q"),q=n.n(Z),V=n("Xjl2"),D=n("RInU"),G=n.n(D);n("tvR6"),n("HAPY"),n("AhPL");r.default.filter("formatDate",function(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth()+1,r=t.getDate(),a=t.getHours(),i=t.getMinutes();return e+"年"+n+"月"+r+" "+(a<=11?"上午":"下午")+(a=a>=12?a-12:a)+":"+(i=i<10?"0"+i:i)}),r.default.config.productionTip=!1,r.default.use(q.a),window.AV=V.a,window.AOS=G.a,G.a.init(),Object(z.a)(document.body,function(){G.a.refresh(),Object(z.b)()}),new r.default({el:"#app",router:O,store:T,components:{App:U},template:"<App/>"})},Oj7U:function(t,e){},Pfph:function(t,e,n){"use strict";var r=n("//Fk"),a=n.n(r),i=n("Xjl2"),o=n("zL8q"),s=(n.n(o),{200:"未提供用户名或用户名为空",201:"未提供密码或密码为空",202:"用户名已经被占用",203:"邮箱地址已经被占用",204:"未提供邮箱地址",205:"找不到邮箱地址对应的用户",206:"未提供 session, 无法修改用户信息",207:"只能通过注册创建用户",208:"不可绑定其他用户因为第三方账号已经绑定一个用户",210:"用户名和密码不匹配",211:"找不到对应用户",212:"请提供手机号码",213:"手机号码对应的用户不存在",214:"手机号码已经被注册",215:"未验证的手机号码",216:"未验证的邮箱地址",217:"无效用户名(用户名不允许为空)",218:"无效密码(密码不允许为空)",219:"登陆失败次数超过限制请稍候重试",250:"连接的第三方账户未返回用户唯一标识",251:"无效的账户连接"});e.a={register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:""},e=t.username,n=t.password,r=t.email,c=void 0===r?"":r;return new a.a(function(t,r){var a=new i.a.User;a.setUsername(e),a.setPassword(n);var u=i.a.Object.createWithoutData("_File","5ce23d4c17b54d006838294a");a.set("avatar",u),c&&a.setEmail(c),a.signUp().then(function(e){o.Message.success("注册成功"),t(e)},function(t){var e=s[t.code]||"未知错误";o.Message.error(e),r(t)})})},login:function(t){var e=t.username,n=t.password;return new a.a(function(t,r){i.a.User.logIn(e,n).then(function(e){o.Message.success("登录成功"),t(e)},function(t){var e=s[t.code]||"未知错误";o.Message.error(e),r(t)})})},logout:function(){return i.a.User.logOut()},getInfo:function(){var t=i.a.User.current();return t?{user:t.get("username"),id:t.id,isLogin:!0}:{user:null,userId:null,isLogin:!1}},setUserAvatar:function(t){return new a.a(function(e,n){var r=i.a.User.current();if(r){var a=i.a.Object.createWithoutData("_User",r.id);a.set("avatar",t),a.set("c",1),a.save().then(function(t){var n=i.a.User.current().getSessionToken();i.a.User.become(n),e(t)}).catch(function(t){n(t)})}else n()})}}},Qz2A:function(t,e){},VmfC:function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.clientHeight;!function a(){n=t.clientHeight,r!==n&&e(),r=n,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=setTimeout(a,200)}()},e.b=function t(){var e=window.location.href.match(/\/[0-9a-f]{24}#([0-9a-f]{24})/);if(e){var n=e[1],r=document.getElementById(n);r?r.scrollIntoView({behavior:"smooth"}):requestAnimationFrame(t)}},String.prototype.replaceAll=function(t,e){return this.split(t).join(e)}},Xjl2:function(t,e,n){"use strict";var r=n("JnRc"),a=n.n(r);a.a.init({appId:"N4vGlWjOcl7Lidhj3n7Xt5aV-gzGzoHsz",appKey:"GGzqiAwedF20apkL53DWzzQR"}),e.a=a.a},jArS:function(t,e,n){"use strict";var r,a,i,o=n("Xxa5"),s=n.n(o),c=n("//Fk"),u=n.n(c),l=n("exGp"),d=n.n(l),g=n("Xjl2"),v=n("zL8q"),f=(n.n(v),r=d()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new u.a(function(t,n){var r="select count(*) from "+e;g.a.Query.doCloudQuery(r).then(function(e){t(e.count)}).catch(function(t){n(t)})}));case 1:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),m=(a=d()(s.a.mark(function t(e,n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new u.a(function(t,r){var a="select * from "+e+" where seq in ("+n.toString()+")";g.a.Query.doCloudQuery(a).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)})),function(t,e){return a.apply(this,arguments)}),p=(i=d()(s.a.mark(function t(e,n,r){var a=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new u.a(function(){var t=d()(s.a.mark(function t(i,o){var c,u,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e);case 3:return c=t.sent,u=_(c,n),t.next=7,m(e,u);case 7:l=t.sent,i(l),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),v.Message.error(r),o(t.t0);case 15:case"end":return t.stop()}},t,a,[[0,11]])}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)})),function(t,e,n){return i.apply(this,arguments)});function _(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=new Array,r=0;r<t;r++)n[r]=r+1;return n.sort(function(){return.5-Math.random()}).splice(0,e)}e.a={fetchRandomSlides:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:6}).count;return p("SlideShow",void 0===t?6:t,"背景图似乎出了点问题")},fetchRandomArticles:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:8}).count;return p("ArticleDb",void 0===t?8:t,"无法获取随机文章")}}},kxg0:function(t,e){},rJro:function(t,e,n){t.exports=n.p+"static/img/6.3d4fc0e.jpg"},"t/z4":function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.18e60b168d46af2346ee.js.map